---
import Base from "../../../layouts/Base.astro";
const account = import.meta.env.PUBLIC_ASM_ACCOUNT;
const base = import.meta.env.PUBLIC_ASM_BASE;
const formid = import.meta.env.PUBLIC_ASM_SURRENDER_FORM_ID;
---
<Base title="Surrender an Animal">
  <div class="max-w-3xl">
    <h1 class="text-3xl font-semibold mb-4">Surrender an Animal</h1>
    <p class="text-gray-700 mb-6">Please complete the form below. A volunteer will contact you as soon as possible.</p>

    {account && formid ? (
      <div class="rounded-xl border overflow-hidden shadow-sm">
        <iframe
          src={`${base}?account=${account}&method=online_form_html&formid=${formid}`}
          class="w-full min-h-[1800px]"
          loading="lazy"
          referrerpolicy="strict-origin-when-cross-origin">
        </iframe>
      </div>
    ) : (
      <p class="text-sm text-red-600">Form not configured. Set PUBLIC_ASM_ACCOUNT and PUBLIC_ASM_SURRENDER_FORM_ID.</p>
    )}

    <p class="mt-6 text-xs text-gray-500">
      Note: ASM forms are cached for ~30 minutes on sheltermanager.com. Recent edits may take time to appear.
    </p>
  </div>
</Base>