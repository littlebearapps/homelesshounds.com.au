---
import Base from "../../../layouts/Base.astro";
const account = import.meta.env.PUBLIC_ASM_ACCOUNT;
const base = import.meta.env.PUBLIC_ASM_BASE;
---
<Base title="Cats for Adoption">
  <h1 class="text-3xl font-semibold mb-6">Cats for Adoption</h1>

  {account ? (
    <>
      <div id="asm3-adoptables" class="grid gap-6"></div>
      <script>
        // Only include items where SPECIESNAME === "Cat"
        window.asm3_adoptable_filter = (item) => (item.SPECIESNAME || "").toLowerCase() === "cat";
        window.asm3_adoptable_iframe = true;
        window.asm3_adoptable_filters = "sex,age";
      </script>
      <script src={`${base}?method=animal_view_adoptable_js&account=${account}`}></script>
    </>
  ) : (
    <p class="text-sm text-red-600">PUBLIC_ASM_ACCOUNT not set.</p>
  )}
</Base>