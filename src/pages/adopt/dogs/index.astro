---
import Base from "../../../layouts/Base.astro";
const account = import.meta.env.PUBLIC_ASM_ACCOUNT;
---
<Base title="Adoptable Dogs">
  <h1 class="text-3xl font-semibold mb-4">Adoptable Dogs</h1>
  {account ? (
    <>
      <div id="asm3-adoptables"></div>
      <script>
        // ASM sends SPECIESNAME and SPECIESID in each item; filter before render
        window.asm3_adoptable_filter = (item) =>
          (item.SPECIESNAME || "").toLowerCase() === "dog";
        window.asm3_adoptable_iframe = true;
      </script>
      <script src={`https://service.sheltermanager.com/asmservice?method=animal_view_adoptable_js&account=${account}`}></script>
    </>
  ) : (
    <p class="text-sm text-red-600">PUBLIC_ASM_ACCOUNT is not set.</p>
  )}
</Base>